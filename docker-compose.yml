version: '3.8'

services:
  planet-nine:
    build:
      context: ./allyabase/deployment/docker
      dockerfile: Dockerfile
    container_name: planet-nine-base
    restart: unless-stopped
    ports:
      # Official Planet Nine ports
      - "3000:3000"   # Julia - P2P messaging
      - "2999:2999"   # Continuebee - State verification
      - "3002:3002"   # Pref - User preferences
      - "3003:3003"   # BDO - Object storage
      - "3004:3004"   # Joan - Account recovery
      - "3005:3005"   # Addie - Payment processing
      - "3006:3006"   # Fount - MAGIC protocol (main hub)
      - "3007:3007"   # Dolores - Video/media
      - "3011:3011"   # Covenant - Contracts
      - "7243:7243"   # Sanora - Storefront
      - "7277:7277"   # Aretha - Limited products
      - "2525:2525"   # Minnie - SMTP
    volumes:
      - planet-nine-data:/usr/src/app/data
    environment:
      - LOCALHOST=true
      - NODE_ENV=production

volumes:
  planet-nine-data:
